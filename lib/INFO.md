Here would be the agent model as a lib but we just paste the code here